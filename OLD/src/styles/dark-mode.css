/* Base styles for both light and dark modes */
:root {
  color-scheme: light;
  --background: #ffffff;
  --text-primary: #111827;
  --text-secondary: #4B5563;
  --text-tertiary: #6B7280;
  --border: #E5E7EB;
  --input-bg: #ffffff;
  --card-bg: #ffffff;
  --hover: #F3F4F6;
  --label-color: #111827;
  --input-text: #111827;
}

/* Dark mode variables */
:root.dark {
  color-scheme: dark;
  --background: #111827;
  --text-primary: #F9FAFB;
  --text-secondary: #E5E7EB;
  --text-tertiary: #D1D5DB;
  --border: #374151;
  --input-bg: #1F2937;
  --card-bg: #1F2937;
  --hover: #374151;
  --label-color: #F9FAFB;
  --input-text: #F9FAFB;
}

/* Apply base styles */
body {
  background-color: var(--background);
  color: var(--text-primary);
}

/* Label and text styles */
label, 
.font-medium,
.text-gray-900 {
  color: var(--label-color) !important;
}

.text-gray-700 {
  color: var(--text-secondary) !important;
}

.text-gray-600,
.text-gray-500 {
  color: var(--text-tertiary) !important;
}

/* Input styles */
input {
  color: var(--input-text) !important;
  background-color: var(--input-bg) !important;
}

/* Card and container styles */
.bg-white {
  background-color: var(--card-bg) !important;
}

.border {
  border-color: var(--border) !important;
}

/* Chart text colors */
.recharts-text {
  fill: var(--text-secondary) !important;
}

/* Mobile specific improvements */
@media (max-width: 640px) {
  /* Base text colors */
  .text-gray-900 {
    color: var(--label-color) !important;
  }

  .text-gray-700 {
    color: var(--text-secondary) !important;
  }

  .text-gray-600,
  .text-gray-500 {
    color: var(--text-tertiary) !important;
  }

  /* Input improvements */
  input[type="number"] {
    color: var(--input-text) !important;
    background-color: var(--input-bg) !important;
    border-color: var(--border) !important;
  }

  /* Card and container improvements */
  .card {
    background-color: var(--card-bg) !important;
    border-color: var(--border) !important;
  }

  /* Label visibility */
  label {
    color: var(--label-color) !important;
  }

  /* Chart improvements */
  .recharts-text {
    fill: var(--text-secondary) !important;
  }

  .recharts-tooltip {
    background-color: var(--card-bg) !important;
    border-color: var(--border) !important;
    color: var(--text-primary) !important;
  }

  /* Improve touch targets */
  button, 
  [role="button"],
  input,
  select {
    min-height: 44px;
    font-size: 16px;
  }
}

/* Button improvements */
.button {
  color: var(--text-primary) !important;
}

.button:hover {
  background-color: var(--hover) !important;
}

/* Table text colors */
th {
  color: var(--label-color) !important;
}

td {
  color: var(--text-primary) !important;
}

/* Badge colors */
.badge {
  color: var(--text-secondary) !important;
  border-color: var(--border) !important;
}

/* Smooth transitions */
* {
  transition: background-color 0.2s ease-in-out, 
              color 0.2s ease-in-out, 
              border-color 0.2s ease-in-out,
              fill 0.2s ease-in-out !important;
}

/* Dark mode overrides */
.dark {
  color-scheme: dark;
}

.dark body {
  background-color: #111827;
  color: #f9fafb;
}

.dark .bg-white {
  background-color: #1f2937 !important;
}

.dark .bg-gray-50 {
  background-color: #111827 !important;
}

.dark .border-gray-100,
.dark .border-gray-200 {
  border-color: #374151 !important;
}

.dark .text-gray-900 {
  color: #f9fafb !important;
}

.dark .text-gray-700 {
  color: #e5e7eb !important;
}

/* Input fields in dark mode */
.dark input[type="number"] {
  background-color: #1f2937 !important;
  border-color: #374151 !important;
  color: #f9fafb !important;
}

/* Cards in dark mode */
.dark [class*="Card"] {
  background-color: #1f2937 !important;
  border-color: #374151 !important;
}

/* Chart styles in dark mode */
.dark .recharts-cartesian-grid-horizontal line,
.dark .recharts-cartesian-grid-vertical line {
  stroke: #374151 !important;
}

.dark .recharts-text {
  fill: #e5e7eb !important;
}

/* Ensure proper transitions */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 200ms;
}

/* Dark mode specific styles */
:root {
  color-scheme: light;
}

:root.dark {
  color-scheme: dark;
}

/* Base dark mode styles */
.dark body {
  background-color: #111827;
}

.dark .bg-white {
  background-color: #1f2937;
}

.dark .border-gray-100 {
  border-color: #374151;
}

.dark input[type="number"] {
  color: #f9fafb;
  background-color: #374151;
}

.dark .shadow-sm {
  --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
}

.dark .text-gray-900 {
  color: #f9fafb;
}

/* Mobile specific dark mode improvements */
@media (max-width: 640px) {
  .dark body {
    background-color: #111827;
  }

  .dark .bg-white {
    background-color: #1f2937;
  }

  .dark .border-gray-100 {
    border-color: #374151;
  }

  .dark input[type="number"] {
    color: #f9fafb;
    background-color: #374151;
  }

  .dark .shadow-sm {
    --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  }

  /* Improve touch targets on mobile */
  button,
  [role="button"],
  input,
  select {
    min-height: 44px;
  }

  /* Improve header contrast */
  .dark .text-gray-300 {
    color: #d1d5db;
  }

  /* Improve card readability */
  .dark .card {
    background-color: #1f2937;
    border-color: #374151;
  }

  /* Chart improvements */
  .recharts-wrapper {
    font-size: 12px;
  }

  .recharts-cartesian-axis-tick-value {
    font-size: 10px;
  }

  .recharts-tooltip-wrapper {
    font-size: 12px;
  }

  .dark .recharts-tooltip {
    background-color: #374151 !important;
    border-color: #4b5563 !important;
  }
}

/* Transition improvements */
.transition-colors {
  transition-duration: 200ms;
}

/* System preference based dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}
